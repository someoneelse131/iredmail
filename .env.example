# =============================================================================
# iRedMail Docker Configuration
# =============================================================================
# Copy this file to .env and configure all values
# IMPORTANT: Do not use whitespace, tabs, or quotes around values!
# =============================================================================

# =============================================================================
# REQUIRED SETTINGS - You MUST configure these
# =============================================================================

# Mail server hostname (FQDN - must match DNS A record and PTR)
HOSTNAME=mail.example.com

# Your primary mail domain
FIRST_MAIL_DOMAIN=example.com

# Admin password for postmaster@example.com
# Use a strong password (min 12 chars, mixed case, numbers, symbols)
FIRST_MAIL_DOMAIN_ADMIN_PASSWORD=ChangeThisToSecurePassword123!

# =============================================================================
# DATABASE PASSWORDS - CRITICAL: Set these to prevent reset on restart
# =============================================================================
# Generate secure passwords for each (e.g., openssl rand -base64 24)

MYSQL_ROOT_PASSWORD=ChangeMe_MySQLRoot_SecurePassword123
VMAIL_DB_PASSWORD=ChangeMe_Vmail_SecurePassword123
VMAIL_DB_ADMIN_PASSWORD=ChangeMe_VmailAdmin_SecurePassword123
AMAVISD_DB_PASSWORD=ChangeMe_Amavisd_SecurePassword123
IREDADMIN_DB_PASSWORD=ChangeMe_IredAdmin_SecurePassword123
IREDAPD_DB_PASSWORD=ChangeMe_IredAPD_SecurePassword123
ROUNDCUBE_DB_PASSWORD=ChangeMe_Roundcube_SecurePassword123
SOGO_DB_PASSWORD=ChangeMe_SOGo_SecurePassword123
SOGO_SIEVE_MASTER_PASSWORD=ChangeMe_SogoSieve_SecurePassword123

# =============================================================================
# TOKENS - Pre-generated, but you can regenerate with: openssl rand -base64 32
# =============================================================================

# API token for mlmmjadmin (mailing list manager)
MLMMJADMIN_API_TOKEN=gMwH2UcRMX7eOhTYgNbDn1m30rW2u5pU5XKFRzDopb0=

# DES key for Roundcube webmail session encryption (exactly 24 chars)
ROUNDCUBE_DES_KEY=Aq1BhxNSD4XUZfIg3Vij9o2mp7iPqcnD

# =============================================================================
# SSL CONFIGURATION
# =============================================================================

# SSL type: letsencrypt, selfsigned, or manual
SSL_TYPE=letsencrypt

# Email for Let's Encrypt notifications (required if SSL_TYPE=letsencrypt)
LETSENCRYPT_EMAIL=admin@example.com

# =============================================================================
# OPTIONAL SETTINGS
# =============================================================================

# Timezone (see: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)
TZ=UTC

# Disable ClamAV to save ~1GB RAM (not recommended for production)
# Set to YES to disable
DISABLE_CLAMAV=NO

# Disable SpamAssassin (not recommended)
DISABLE_SPAMASSASSIN=NO

# =============================================================================
# PROXY/CLOUDFLARE SETTINGS (Optional)
# =============================================================================
# If you're behind a reverse proxy or Cloudflare, configure these

# Header containing real client IP (CF-Connecting-IP for Cloudflare)
# REAL_IP_HEADER=CF-Connecting-IP

# Trusted proxy IP ranges (comma-separated CIDR notation)
# For Cloudflare, see: https://www.cloudflare.com/ips/
# TRUSTED_PROXIES=173.245.48.0/20,103.21.244.0/22,103.22.200.0/22

# =============================================================================
# ADVANCED SETTINGS (Usually no need to change)
# =============================================================================

# SOGo workers (default: 3, increase for more users)
SOGO_WORKERS=3

# PHP memory limit
PHP_MEMORY_LIMIT=256M

# Postfix message size limit in bytes (default: 50MB)
MESSAGE_SIZE_LIMIT=52428800

# Dovecot mail process limit per user
MAIL_PROCESS_LIMIT=256
